{"version":3,"sources":["./src/app/pages/user-chat/user-chat.page.html","./src/app/pages/user-chat/user-chat.module.ts","./src/app/pages/user-chat/user-chat.page.scss","./src/app/pages/user-chat/user-chat.page.ts","./src/app/pipes/sort.pipe.ts","./src/app/services/audio.service.ts","./src/app/services/chat-photo.service.ts"],"names":[],"mappings":"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","file":"pages-user-chat-user-chat-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar class=\\\"head-chat\\\">\\n    <ion-row>\\n      <ion-col size=\\\"1\\\">\\n        <ion-icon class=\\\"icons\\\" (click)=\\\"backToChat()\\\" name=\\\"arrow-round-back\\\"></ion-icon>\\n      </ion-col>\\n      <ion-col size=\\\"11\\\">\\n        <ion-item class=\\\"avatar\\\">\\n          <ion-avatar slot=\\\"start\\\">\\n            <img src=\\\"{{photo}}\\\">\\n          </ion-avatar>\\n          <ion-icon class=\\\"avatar--icon-online\\\" name=\\\"radio-button-on\\\" color=\\\"success\\\" *ngIf=\\\"online\\\"></ion-icon>\\n          <ion-text class=\\\"avatar--date\\\" *ngIf=\\\"date\\\">{{date}}</ion-text>\\n          <ion-title>{{firstname}} {{lastname}}</ion-title>\\n        </ion-item>\\n\\n        <!-- <ion-title>{{friendFirstName}} {{friendLastName}}</ion-title> -->\\n      </ion-col>\\n      <!-- <ion-col size=\\\"1\\\">\\n        <ion-icon class=\\\"icons\\\" name=\\\"more\\\"></ion-icon>\\n      </ion-col> -->\\n    </ion-row>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content fullscreen scrollEvents=\\\"true\\\" #content class=\\\"message-container\\\" id=\\\"contenitore\\\">\\n  <ion-item-group class=\\\"message-container--item-group-container\\\" *ngFor=\\\"let message of messages\\\">\\n    <ion-item class=\\\"message-container--message \\\"\\n      [ngClass]=\\\"{'message-container--message-received': message.uid != idLoggedUser, 'message-container--message-send': message.uid == idLoggedUser}\\\">\\n      <span class=\\\"message-container--hour message-container--hour-received\\\"\\n        [ngClass]=\\\"{'message-container--hour-received': message.uid != idLoggedUser, 'message-container--hour-send': message.uid == idLoggedUser}\\\">{{message.date}}</span>\\n      <p *ngIf=\\\"message.text !== ''\\\">{{message.text}}</p>\\n      <div *ngIf=\\\"message.photo !== ''\\\" class=\\\"contenitore-photo\\\">\\n        <img (click)=\\\"openPhoto(message.photo);\\\" src=\\\"{{message.photo}}\\\">\\n      </div>\\n      <div *ngIf=\\\"message.audio !== ''\\\" class=\\\"contenitore-audio\\\">\\n        <audio src=\\\"{{message.audio}}\\\" controls></audio>\\n      </div>\\n    </ion-item>\\n  </ion-item-group>\\n\\n\\n</ion-content>\\n\\n<ion-footer translucent>\\n  <ion-toolbar id=\\\"footerBack\\\">\\n    <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"sendMessage()\\\">\\n      <ion-item class=\\\"send-message\\\">\\n        <ion-textarea #textarea class=\\\"send-message--textarea\\\" id=\\\"valText\\\" formControlName=\\\"message\\\" autoGrow=\\\"true\\\"\\n          rows=\\\"2\\\" cols=\\\"1\\\" class=\\\"send-message--textarea\\\">\\n        </ion-textarea>\\n        <ion-button [disabled]=\\\"!textarea.value ? 'false' : 'true'\\\" (click)=\\\"addAudio();\\\" fill=\\\"clear\\\"\\n          class=\\\"send-message--button\\\">\\n          <ion-icon class=\\\"send-message--icon\\\" name=\\\"mic\\\"></ion-icon>\\n        </ion-button>\\n        <ion-button [disabled]=\\\"!textarea.value ? 'false' : 'true'\\\" (click)=\\\"addCameraPhoto();\\\" fill=\\\"clear\\\"\\n          class=\\\"send-message--button\\\">\\n          <ion-icon class=\\\"send-message--icon\\\" name=\\\"camera\\\"></ion-icon>\\n        </ion-button>\\n        <ion-button [disabled]=\\\"textarea.value ? 'false' : 'true'\\\" type=\\\"submit\\\" fill=\\\"clear\\\"\\n          class=\\\"send-message--button\\\">\\n          <ion-icon class=\\\"send-message--icon\\\" name=\\\"send\\\"></ion-icon>\\n        </ion-button>\\n      </ion-item>\\n    </form>\\n  </ion-toolbar>\\n</ion-footer>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {  ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UserChatPage } from './user-chat.page';\nimport { SortPipe } from 'src/app/pipes/sort.pipe';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserChatPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [UserChatPage,SortPipe]\n})\nexport class UserChatPageModule {}\n","module.exports = \".icons {\\n  font-size: 24px;\\n  margin-top: 16px;\\n}\\n\\n.avatar {\\n  --border-color: #fff;\\n}\\n\\n.avatar--date {\\n  font-size: 12px;\\n}\\n\\n.avatar--icon-online {\\n  font-size: 14px;\\n}\\n\\n.avatar--title {\\n  font-size: 17px;\\n}\\n\\n.message-container {\\n  padding-bottom: 0px;\\n  margin-bottom: 0px;\\n  --background: url(\\\"https://i.pinimg.com/originals/79/5c/ab/795cabc4647f73b365e2e6eabd0f34dc.png\\\");\\n  background-repeat: no-repeat;\\n  background-image: cover !important;\\n  background-size: cover !important;\\n  background-position: center;\\n  display: block !important;\\n}\\n\\n.message-container--message {\\n  --border-color: transparent;\\n  word-wrap: break-word;\\n}\\n\\n.message-container--item-group-container:last-of-type {\\n  margin-bottom: 20px;\\n}\\n\\n.message-container--message-received {\\n  --background: linear-gradient(to bottom, #c9d6ff, #e2e2e2);\\n  margin-top: 20px;\\n  margin-left: 10px;\\n  width: 80%;\\n  -webkit-clip-path: polygon(11% 100%, 100% 100%, 100% 28%, 100% 0, 100% 0, 0 0, 11% 28%);\\n          clip-path: polygon(11% 100%, 100% 100%, 100% 28%, 100% 0, 100% 0, 0 0, 11% 28%);\\n  --inner-padding-start: 15%;\\n  --inner-padding-end: 5%;\\n}\\n\\n.message-container--message-send {\\n  --background: linear-gradient(to right, #43c6ac, #f8ffae);\\n  margin-top: 20px;\\n  margin-right: 10px;\\n  padding-left: 20%;\\n  -webkit-clip-path: polygon(0 100%, 89% 100%, 89% 28%, 100% 0, 100% 0, 0 0, 0 28%);\\n          clip-path: polygon(0 100%, 89% 100%, 89% 28%, 100% 0, 100% 0, 0 0, 0 28%);\\n  --inner-padding-start: 5%;\\n  --inner-padding-end: 17%;\\n}\\n\\n.message-container--hour {\\n  position: absolute;\\n  font-size: 9px;\\n  padding: 5px;\\n  color: rgba(0, 0, 0, 0.6);\\n}\\n\\n.message-container--hour-send {\\n  top: 0%;\\n  right: 12%;\\n}\\n\\n.message-container--hour-received {\\n  top: 0%;\\n  left: 5%;\\n}\\n\\n.item-interactive.ion-invalid {\\n  --highlight-background: transparent;\\n}\\n\\n.item-interactive.ion-valid {\\n  --highlight-background: transparent;\\n}\\n\\n.send-message {\\n  position: relative;\\n  bottom: 2px;\\n  width: 100%;\\n  --highlight-color-focused: transparent !important;\\n  --border-radius: 30px;\\n  --background: #fff;\\n}\\n\\n.send-message--textarea {\\n  --highlight-color-focused: transparent !important;\\n  word-wrap: break-word;\\n}\\n\\n.send-message--icon {\\n  font-size: 27px;\\n  color: #43c6ac;\\n}\\n\\n#footerBack {\\n  --background: url(\\\"https://i.pinimg.com/originals/79/5c/ab/795cabc4647f73b365e2e6eabd0f34dc.png\\\");\\n  padding-bottom: 0px;\\n  margin-bottom: 0px;\\n  --padding: 3px;\\n}\\n\\n.footer-md:before {\\n  top: 0px;\\n}\\n\\n.contenitore-photo {\\n  padding: 20px 0px;\\n}\\n\\n.contenitore-photo img {\\n  border-radius: 5px;\\n  width: 150px;\\n  height: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2RhdmlkZS9TY3JpdmFuaWEvbnVvdmlQcm9nZXR0aS90ZWxsbWUvdGVsbE1lL3NyYy9hcHAvcGFnZXMvdXNlci1jaGF0L3VzZXItY2hhdC5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3VzZXItY2hhdC91c2VyLWNoYXQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0FDQ0o7O0FERUE7RUFDSSxvQkFBQTtBQ0NKOztBRENJO0VBQ0ksZUFBQTtBQ0NSOztBREVJO0VBQ0ksZUFBQTtBQ0FSOztBREdJO0VBQ0ksZUFBQTtBQ0RSOztBRE1BO0VBR0ksbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGlHQUFBO0VBQ0EsNEJBQUE7RUFDQSxrQ0FBQTtFQUNBLGlDQUFBO0VBQ0EsMkJBQUE7RUFHQSx5QkFBQTtBQ1BKOztBRFNJO0VBRUksMkJBQUE7RUFDQSxxQkFBQTtBQ1JSOztBRFlJO0VBQ0ksbUJBQUE7QUNWUjs7QURhSTtFQUVJLDBEQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLFVBQUE7RUFDQSx1RkFBQTtVQUFBLCtFQUFBO0VBQ0EsMEJBQUE7RUFDQSx1QkFBQTtBQ1pSOztBRGtCSTtFQUVJLHlEQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsaUZBQUE7VUFBQSx5RUFBQTtFQUNBLHlCQUFBO0VBQ0Esd0JBQUE7QUNqQlI7O0FEb0JJO0VBQ0ksa0JBQUE7RUFDQSxjQUFBO0VBQ0EsWUFBQTtFQUNBLHlCQUFBO0FDbEJSOztBRHFCSTtFQUNJLE9BQUE7RUFDQSxVQUFBO0FDbkJSOztBRHNCSTtFQUNJLE9BQUE7RUFDQSxRQUFBO0FDcEJSOztBRDBCQTtFQUNJLG1DQUFBO0FDdkJKOztBRDBCQTtFQUNJLG1DQUFBO0FDdkJKOztBRDJCQTtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7RUFFQSxpREFBQTtFQUNBLHFCQUFBO0VBQ0Esa0JBQUE7QUN6Qko7O0FENEJJO0VBQ0ksaURBQUE7RUFFQSxxQkFBQTtBQzNCUjs7QUQ4Qkk7RUFDSSxlQUFBO0VBQ0EsY0FBQTtBQzVCUjs7QURnQ0E7RUFDSSxpR0FBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0FDN0JKOztBRGdDQTtFQUNJLFFBQUE7QUM3Qko7O0FEZ0NBO0VBQ0ksaUJBQUE7QUM3Qko7O0FEZ0NBO0VBQ0ksa0JBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQzdCSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3VzZXItY2hhdC91c2VyLWNoYXQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmljb25zIHtcbiAgICBmb250LXNpemU6IDI0cHg7XG4gICAgbWFyZ2luLXRvcDogMTZweDtcbn1cblxuLmF2YXRhciB7XG4gICAgLS1ib3JkZXItY29sb3I6ICNmZmY7XG5cbiAgICAmLS1kYXRlIHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgIH1cblxuICAgICYtLWljb24tb25saW5lIHtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgIH1cblxuICAgICYtLXRpdGxlIHtcbiAgICAgICAgZm9udC1zaXplOiAxN3B4O1xuICAgIH1cblxufVxuXG4ubWVzc2FnZS1jb250YWluZXIge1xuXG5cbiAgICBwYWRkaW5nLWJvdHRvbTogMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDBweDtcbiAgICAtLWJhY2tncm91bmQ6IHVybCgnaHR0cHM6Ly9pLnBpbmltZy5jb20vb3JpZ2luYWxzLzc5LzVjL2FiLzc5NWNhYmM0NjQ3ZjczYjM2NWUyZTZlYWJkMGYzNGRjLnBuZycpO1xuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogY292ZXIgIWltcG9ydGFudDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyICFpbXBvcnRhbnQ7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xuXG5cbiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xuXG4gICAgJi0tbWVzc2FnZSB7XG5cbiAgICAgICAgLS1ib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG5cbiAgICB9XG5cbiAgICAmLS1pdGVtLWdyb3VwLWNvbnRhaW5lcjpsYXN0LW9mLXR5cGUge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIH1cblxuICAgICYtLW1lc3NhZ2UtcmVjZWl2ZWQge1xuICAgICAgICAvLyBzZSByaWNldnV0byxxdWluZGkgaWQgZGl2ZXJzbyBkYSBxdWVsbG8gbG9nZ2F0b1xuICAgICAgICAtLWJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICNjOWQ2ZmYsICNlMmUyZTIpO1xuICAgICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICAgICAgd2lkdGg6IDgwJTtcbiAgICAgICAgY2xpcC1wYXRoOiBwb2x5Z29uKDExJSAxMDAlLCAxMDAlIDEwMCUsIDEwMCUgMjglLCAxMDAlIDAsIDEwMCUgMCwgMCAwLCAxMSUgMjglKTtcbiAgICAgICAgLS1pbm5lci1wYWRkaW5nLXN0YXJ0OiAxNSU7XG4gICAgICAgIC0taW5uZXItcGFkZGluZy1lbmQ6IDUlO1xuXG5cblxuICAgIH1cblxuICAgICYtLW1lc3NhZ2Utc2VuZCB7XG4gICAgICAgIC8vIHNlIGludmlhdG8scXVpbmRpIGlkIHVhZ3VhbGUgYSBxdWVsbG8gbG9nZ2F0b1xuICAgICAgICAtLWJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgIzQzYzZhYywgI2Y4ZmZhZSk7XG4gICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAyMCU7XG4gICAgICAgIGNsaXAtcGF0aDogcG9seWdvbigwIDEwMCUsIDg5JSAxMDAlLCA4OSUgMjglLCAxMDAlIDAsIDEwMCUgMCwgMCAwLCAwIDI4JSk7XG4gICAgICAgIC0taW5uZXItcGFkZGluZy1zdGFydDogNSU7XG4gICAgICAgIC0taW5uZXItcGFkZGluZy1lbmQ6IDE3JTtcbiAgICB9XG5cbiAgICAmLS1ob3VyIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBmb250LXNpemU6IDlweDtcbiAgICAgICAgcGFkZGluZzogNXB4O1xuICAgICAgICBjb2xvcjogcmdiYSgkY29sb3I6ICMwMDAwMDAsICRhbHBoYTouNik7XG4gICAgfVxuXG4gICAgJi0taG91ci1zZW5kIHtcbiAgICAgICAgdG9wOiAwJTtcbiAgICAgICAgcmlnaHQ6IDEyJTtcbiAgICB9XG5cbiAgICAmLS1ob3VyLXJlY2VpdmVkIHtcbiAgICAgICAgdG9wOiAwJTtcbiAgICAgICAgbGVmdDogNSU7XG4gICAgfVxuXG59XG5cbi8vIHBlciBuYXNjb25kZXJlIGJvcmRvIGNvbG9yYXRvIGRpIHZhbGlkYXppb25lXG4uaXRlbS1pbnRlcmFjdGl2ZS5pb24taW52YWxpZCB7XG4gICAgLS1oaWdobGlnaHQtYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5cbi5pdGVtLWludGVyYWN0aXZlLmlvbi12YWxpZCB7XG4gICAgLS1oaWdobGlnaHQtYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5cblxuLnNlbmQtbWVzc2FnZSB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGJvdHRvbTogMnB4O1xuICAgIHdpZHRoOiAxMDAlO1xuXG4gICAgLS1oaWdobGlnaHQtY29sb3ItZm9jdXNlZDogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcbiAgICAtLWJvcmRlci1yYWRpdXM6IDMwcHg7XG4gICAgLS1iYWNrZ3JvdW5kOiAjZmZmO1xuXG5cbiAgICAmLS10ZXh0YXJlYSB7XG4gICAgICAgIC0taGlnaGxpZ2h0LWNvbG9yLWZvY3VzZWQ6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG5cbiAgICAgICAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICAgIH1cblxuICAgICYtLWljb24ge1xuICAgICAgICBmb250LXNpemU6IDI3cHg7XG4gICAgICAgIGNvbG9yOiAjNDNjNmFjO1xuICAgIH1cbn1cblxuI2Zvb3RlckJhY2sge1xuICAgIC0tYmFja2dyb3VuZDogdXJsKCdodHRwczovL2kucGluaW1nLmNvbS9vcmlnaW5hbHMvNzkvNWMvYWIvNzk1Y2FiYzQ2NDdmNzNiMzY1ZTJlNmVhYmQwZjM0ZGMucG5nJyk7XG4gICAgcGFkZGluZy1ib3R0b206IDBweDtcbiAgICBtYXJnaW4tYm90dG9tOiAwcHg7XG4gICAgLS1wYWRkaW5nOiAzcHg7XG59XG5cbi5mb290ZXItbWQ6YmVmb3JlIHtcbiAgICB0b3A6IDBweDtcbn1cblxuLmNvbnRlbml0b3JlLXBob3RvIHtcbiAgICBwYWRkaW5nOiAyMHB4IDBweDtcbn1cblxuLmNvbnRlbml0b3JlLXBob3RvIGltZyB7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIHdpZHRoOiAxNTBweDtcbiAgICBoZWlnaHQ6IGF1dG87XG59IiwiLmljb25zIHtcbiAgZm9udC1zaXplOiAyNHB4O1xuICBtYXJnaW4tdG9wOiAxNnB4O1xufVxuXG4uYXZhdGFyIHtcbiAgLS1ib3JkZXItY29sb3I6ICNmZmY7XG59XG4uYXZhdGFyLS1kYXRlIHtcbiAgZm9udC1zaXplOiAxMnB4O1xufVxuLmF2YXRhci0taWNvbi1vbmxpbmUge1xuICBmb250LXNpemU6IDE0cHg7XG59XG4uYXZhdGFyLS10aXRsZSB7XG4gIGZvbnQtc2l6ZTogMTdweDtcbn1cblxuLm1lc3NhZ2UtY29udGFpbmVyIHtcbiAgcGFkZGluZy1ib3R0b206IDBweDtcbiAgbWFyZ2luLWJvdHRvbTogMHB4O1xuICAtLWJhY2tncm91bmQ6IHVybChcImh0dHBzOi8vaS5waW5pbWcuY29tL29yaWdpbmFscy83OS81Yy9hYi83OTVjYWJjNDY0N2Y3M2IzNjVlMmU2ZWFiZDBmMzRkYy5wbmdcIik7XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIGJhY2tncm91bmQtaW1hZ2U6IGNvdmVyICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXIgIWltcG9ydGFudDtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xuICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xufVxuLm1lc3NhZ2UtY29udGFpbmVyLS1tZXNzYWdlIHtcbiAgLS1ib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG59XG4ubWVzc2FnZS1jb250YWluZXItLWl0ZW0tZ3JvdXAtY29udGFpbmVyOmxhc3Qtb2YtdHlwZSB7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG4ubWVzc2FnZS1jb250YWluZXItLW1lc3NhZ2UtcmVjZWl2ZWQge1xuICAtLWJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICNjOWQ2ZmYsICNlMmUyZTIpO1xuICBtYXJnaW4tdG9wOiAyMHB4O1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgd2lkdGg6IDgwJTtcbiAgY2xpcC1wYXRoOiBwb2x5Z29uKDExJSAxMDAlLCAxMDAlIDEwMCUsIDEwMCUgMjglLCAxMDAlIDAsIDEwMCUgMCwgMCAwLCAxMSUgMjglKTtcbiAgLS1pbm5lci1wYWRkaW5nLXN0YXJ0OiAxNSU7XG4gIC0taW5uZXItcGFkZGluZy1lbmQ6IDUlO1xufVxuLm1lc3NhZ2UtY29udGFpbmVyLS1tZXNzYWdlLXNlbmQge1xuICAtLWJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgIzQzYzZhYywgI2Y4ZmZhZSk7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbiAgcGFkZGluZy1sZWZ0OiAyMCU7XG4gIGNsaXAtcGF0aDogcG9seWdvbigwIDEwMCUsIDg5JSAxMDAlLCA4OSUgMjglLCAxMDAlIDAsIDEwMCUgMCwgMCAwLCAwIDI4JSk7XG4gIC0taW5uZXItcGFkZGluZy1zdGFydDogNSU7XG4gIC0taW5uZXItcGFkZGluZy1lbmQ6IDE3JTtcbn1cbi5tZXNzYWdlLWNvbnRhaW5lci0taG91ciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgZm9udC1zaXplOiA5cHg7XG4gIHBhZGRpbmc6IDVweDtcbiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42KTtcbn1cbi5tZXNzYWdlLWNvbnRhaW5lci0taG91ci1zZW5kIHtcbiAgdG9wOiAwJTtcbiAgcmlnaHQ6IDEyJTtcbn1cbi5tZXNzYWdlLWNvbnRhaW5lci0taG91ci1yZWNlaXZlZCB7XG4gIHRvcDogMCU7XG4gIGxlZnQ6IDUlO1xufVxuXG4uaXRlbS1pbnRlcmFjdGl2ZS5pb24taW52YWxpZCB7XG4gIC0taGlnaGxpZ2h0LWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuXG4uaXRlbS1pbnRlcmFjdGl2ZS5pb24tdmFsaWQge1xuICAtLWhpZ2hsaWdodC1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cblxuLnNlbmQtbWVzc2FnZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgYm90dG9tOiAycHg7XG4gIHdpZHRoOiAxMDAlO1xuICAtLWhpZ2hsaWdodC1jb2xvci1mb2N1c2VkOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xuICAtLWJvcmRlci1yYWRpdXM6IDMwcHg7XG4gIC0tYmFja2dyb3VuZDogI2ZmZjtcbn1cbi5zZW5kLW1lc3NhZ2UtLXRleHRhcmVhIHtcbiAgLS1oaWdobGlnaHQtY29sb3ItZm9jdXNlZDogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xufVxuLnNlbmQtbWVzc2FnZS0taWNvbiB7XG4gIGZvbnQtc2l6ZTogMjdweDtcbiAgY29sb3I6ICM0M2M2YWM7XG59XG5cbiNmb290ZXJCYWNrIHtcbiAgLS1iYWNrZ3JvdW5kOiB1cmwoXCJodHRwczovL2kucGluaW1nLmNvbS9vcmlnaW5hbHMvNzkvNWMvYWIvNzk1Y2FiYzQ2NDdmNzNiMzY1ZTJlNmVhYmQwZjM0ZGMucG5nXCIpO1xuICBwYWRkaW5nLWJvdHRvbTogMHB4O1xuICBtYXJnaW4tYm90dG9tOiAwcHg7XG4gIC0tcGFkZGluZzogM3B4O1xufVxuXG4uZm9vdGVyLW1kOmJlZm9yZSB7XG4gIHRvcDogMHB4O1xufVxuXG4uY29udGVuaXRvcmUtcGhvdG8ge1xuICBwYWRkaW5nOiAyMHB4IDBweDtcbn1cblxuLmNvbnRlbml0b3JlLXBob3RvIGltZyB7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgd2lkdGg6IDE1MHB4O1xuICBoZWlnaHQ6IGF1dG87XG59Il19 */\"","import { Media } from '@ionic-native/media/ngx';\nimport { File } from '@ionic-native/file/ngx';\nimport { AudioService } from './../../services/audio.service';\nimport { FcmService } from './../../services/fcm.service';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { PhotoModalPage } from './../photo-modal/photo-modal.page';\nimport { ModalController } from '@ionic/angular';\nimport { UploadTask } from '@angular/fire/storage/interfaces';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { ChatPhotoService } from './../../services/chat-photo.service';\nimport { AuthService } from './../../services/auth.service';\nimport { ChatService } from './../../services/chat.service';\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { Component, OnInit, OnChanges, ViewChild, DoCheck } from '@angular/core';\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\nimport { UsersService } from 'src/app/services/users.service';\nimport { SendMessageService } from 'src/app/services/send-message.service';\nimport { MediaCapture, MediaFile, CaptureError, CaptureImageOptions } from '@ionic-native/media-capture/ngx';\n\n\n\n@Component({\n  selector: 'app-user-chat',\n  templateUrl: './user-chat.page.html',\n\n  styleUrls: ['./user-chat.page.scss'],\n})\nexport class UserChatPage implements OnInit {\n  @ViewChild('content', { static: false }) content: any;\n\n\n  uid: string;\n  messages: any = [];\n  friendFirstName: string;\n  friendLastName: string;\n  idLoggedUser: string;\n  form: FormGroup;\n  firstname: string;\n  lastname: string;\n  photo: string;\n  online: any;\n  date: any;\n\n  fileName;\n  task: UploadTask;\n  urlPhoto: string;\n  urlAudio: string;\n\n  friendData = {\n    friendFirstname: '',\n    friendLastname: '',\n    friendPhoto: '',\n    friendId: ''\n  };\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private usersService: UsersService,\n    private db: AngularFireDatabase,\n    private formBuilder: FormBuilder,\n    private sendMessageService: SendMessageService,\n    private chatService: ChatService,\n    private authService: AuthService,\n    private camera: Camera,\n    private chatPhotoService: ChatPhotoService,\n    public modalController: ModalController,\n    private fcm: FcmService,\n    private mediaCapture: MediaCapture,\n    private audioService: AudioService,\n    private file: File,\n    private media: Media\n  ) {\n    this.idLoggedUser = this.authService.getIdLoggedUser();\n    this.friendData = this.chatService.getFriendData();\n    this.uid = this.friendData.friendId;\n    this.firstname = this.friendData.friendFirstname;\n    this.lastname = this.friendData.friendLastname;\n    this.photo = this.friendData.friendPhoto;\n\n    this.form = this.formBuilder.group({\n      message: new FormControl('', Validators.required)\n    });\n\n    this.getMessages();\n    this.getStatus();\n  }\n\n  ngOnInit() {\n    setTimeout(() => { this.content.scrollToBottom(); }, 100);\n  }\n\n\n  async getStatus() {\n    this.usersService.getUserStatus(this.friendData.friendId).subscribe(res => {\n      this.online = res[1];\n      this.date = res[0];\n    })\n  }\n\n  ionViewDidEnter() {\n    setTimeout(() => { this.content.scrollToBottom(); }, 100);\n  }\n\n\n  ionViewWillEnter() {\n    this.idLoggedUser = this.authService.getIdLoggedUser();\n  }\n\n  // getFriendMess() {\n  //   this.usersService.getFriendMess(this.idLoggedUser, this.friendData.friendId)\n  //     .subscribe(user => {\n  //       this.messages = user;\n  //     })\n  // }\n\n\n  getMessages() {\n    this.usersService.getCurrentUserMess(this.friendData.friendId, this.idLoggedUser).subscribe(mess => {\n      this.usersService.getFriendMess(this.idLoggedUser, this.friendData.friendId).subscribe(mes => {\n        this.messages = mes.concat(mess);\n        this.messages = this.messages.sort((a, b) => a.createdAt - b.createdAt);\n      })\n    })\n\n\n  }\n\n  async sendMessage() {\n    let testo = this.form.value.message.trim();\n    if (testo !== '') {\n      let data = new Date;\n      let minutes = data.getMinutes();\n      let zero = false;\n      if (minutes < 10) {\n        zero = true;\n      }\n      let date = data.getHours() + ':' + (zero ? '0' : '') + minutes;\n      this.sendMessageService.send(this.idLoggedUser, this.friendData.friendId).push({\n        createdAt: Date.now(),\n        uid: this.idLoggedUser,\n        text: testo,\n        photo: '',\n        audio: '',\n        date: date\n\n      }).then(() => {\n        document.getElementById('valText').setAttribute('value', '');\n\n        this.sendMessageService.newMessages(this.friendData.friendId, this.idLoggedUser).update({\n          newMess: true\n        });\n        this.usersService.getLogUserData(this.idLoggedUser).subscribe(res => {\n          this.fcm.createNotification(res[1], res[2], this.friendData.friendId, testo);//da inserire token recuperato dalla lista di token registrati corrispondente a quell 'id dell'amico\n        });\n\n\n        setTimeout(() => { this.content.scrollToBottom(); }, 100);\n\n      })\n\n    }\n\n  }\n\n  addCameraPhoto() {\n    const options: CameraOptions = {\n      quality: 50,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n      correctOrientation: true,\n      saveToPhotoAlbum: false //true in prod,\n      // popoverOptions: new CameraPopoverOptions //slider di foto della gallery,ma funge solo con ios\n\n    }\n    this.camera.getPicture(options).then((imageData) => {\n      let base64Image = 'data:image/jpeg;base64,' + imageData;\n      this.sendPhotoMessage(base64Image);\n\n    }, (err) => {\n      alert(err)\n    });\n  }\n\n\n  async sendPhotoMessage(image) {\n    this.fileName = Date.now();\n    let data = new Date;\n    let minutes = data.getMinutes();\n    let zero = false;\n    if (minutes < 10) {\n      zero = true;\n    }\n    let date = data.getHours() + ':' + (zero ? '0' : '') + minutes;\n\n    this.task = this.chatPhotoService.upLoad(this.idLoggedUser, this.fileName).putString(image, 'data_url');\n    this.task.then(() => {\n      this.chatPhotoService.upLoad(this.idLoggedUser, this.fileName).getDownloadURL().then(url => {\n        this.urlPhoto = url;\n        setTimeout(() => { this.content.scrollToBottom(); }, 200);\n        this.usersService.getLogUserData(this.idLoggedUser).subscribe(res => {\n          this.chatPhotoService.savePhoto(this.idLoggedUser, this.friendData.friendId).push({\n            createdAt: Date.now(),\n            uid: this.idLoggedUser,\n            text: '',\n            photo: this.urlPhoto,\n            audio: '',\n            date: date\n          });\n\n        })\n      })\n    })\n    document.getElementById('valText').setAttribute('value', '');\n    this.sendMessageService.newMessages(this.friendData.friendId, this.idLoggedUser).update({\n      newMess: true\n    })\n  }\n\n  backToChat() {\n    this.sendMessageService.newMessages(this.idLoggedUser, this.friendData.friendId).update({\n      newMess: false\n    })\n    this.router.navigateByUrl('home/chat');\n  }\n\n  openPhoto(url) {\n    this.presentModal(url)\n  }\n\n  async presentModal(url) {\n    const modal = await this.modalController.create({\n      component: PhotoModalPage,\n      componentProps: { url: url }\n    });\n    return await modal.present();\n  }\n\n  addAudio() {\n\n    this.mediaCapture.captureAudio().then(audio => {\n      console.log(audio)\n\n      this.file.checkFile(audio[0].fullPath,audio[0].name).then(res => {\n        console.log(res)\n      })\n\n      let aud = 'data:audio/mpeg;base64url,'+ audio[0].fullPath.toString();\n\n     this.sendAudioMessage(aud);\n    })\n\n    ////\n\n    // this.mediaCapture.captureAudio().then(audio => {\n\n    //   // let n = audio[0].fullPath.lastIndexOf(\"/\");\n    //   // let x = audio[0].fullPath.lastIndexOf(\"g\");\n    //   // let nameFile = audio[0].fullPath.substring(n + 1, x + 1);\n    //   // let directory = audio[0].fullPath.substring(0, n);\n\n    //   this.file.readAsArrayBuffer(audio[0].fullPath.toString(), audio[0].fullPath).then((res) => {\n    //     let blob = new Blob([res], { type: \"audio/mpeg\" });\n    //     this.sendAudioMessage(blob)\n    //   })\n    // })\n  }\n\n  async sendAudioMessage(audio) {\n    this.fileName = Date.now();\n    let data = new Date;\n    let minutes = data.getMinutes();\n    let zero = false;\n    if (minutes < 10) {\n      zero = true;\n    }\n    let date = data.getHours() + ':' + (zero ? '0' : '') + minutes;\n\n    let metadata = {\n      contentType: 'audio/mpeg'\n    };\n\n\n    this.task = this.audioService.upLoadAudio(this.idLoggedUser, this.fileName).putString(audio,'base64url');\n    this.task.then(() => {\n      this.audioService.upLoadAudio(this.idLoggedUser, this.fileName).getDownloadURL().then(url => {\n        this.urlAudio = url;\n        setTimeout(() => { this.content.scrollToBottom(); }, 200);\n        this.usersService.getLogUserData(this.idLoggedUser).subscribe(res => {\n          this.audioService.saveAudio(this.idLoggedUser, this.friendData.friendId).push({\n            createdAt: Date.now(),\n            uid: this.idLoggedUser,\n            text: '',\n            photo: '',\n            audio: this.urlAudio,\n            date: date\n          });\n\n        })\n      })\n    })\n    document.getElementById('valText').setAttribute('value', '');\n    this.sendMessageService.newMessages(this.friendData.friendId, this.idLoggedUser).update({\n      newMess: true\n    })\n  }\n\n\n\n}\n","import { Pipe, PipeTransform } from \"@angular/core\";\n\n@Pipe({\n  name: \"sort\"\n})\nexport class SortPipe implements PipeTransform {\n  transform(array: any, field: string): any[] {\n    if (!Array.isArray(array)) {\n      return;\n    }\n    array.sort((a: any, b: any) => {\n      return a.createdAt - b.createdAt\n    });\n    return array;\n  }\n}","import { AngularFireDatabase } from '@angular/fire/database';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AudioService {\n  constructor(\n    private storage: AngularFireStorage,\n    private db: AngularFireDatabase\n  ) { }\n\n  upLoadAudio(idLogged, fileName) {\n    return this.storage.storage.ref(`messages/${idLogged}/${fileName}.mpeg`);\n  }\n\n  saveAudio(idLogged, idFriend) {\n    return this.db.database.ref(`/chat/${idLogged}/${idFriend}/messages/`);\n  }\n}\n","import { AngularFireDatabase } from '@angular/fire/database';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ChatPhotoService {\n\n  constructor(\n    private storage: AngularFireStorage,\n    private db: AngularFireDatabase\n  ) { }\n\n  upLoad(idLogged, fileName) {\n    return this.storage.storage.ref(`messages/${idLogged}/${fileName}.jpg`);\n  }\n\n  savePhoto(idLogged,idFriend) {\n    return this.db.database.ref(`/chat/${idLogged}/${idFriend}/messages/`);\n  }\n\n}\n"],"sourceRoot":""}